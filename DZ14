using System;
using System.Collections.Generic;
using System.Globalization;

class Program
{
    const string CommandCalculateSum = "sum";
    const string CommandExit = "exit";

    static void Main()
    {
        List<double> numbers = new List<double>();
        bool isRunning = true;

        Console.WriteLine($"Введите числа. Команды: {CommandCalculateSum} - сумма, {CommandExit} - выход");

        while (isRunning)
        {
            Console.Write(">>>>>> ");
            string input = Console.ReadLine()?.Trim().ToLower();

            switch (input)
            {
                case CommandCalculateSum:
                    SumCommand(numbers);
                    break;

                case CommandExit:
                    ExitCommand(ref isRunning);
                    break;

                default:
                    CheckNumberInput(input, numbers);
                    break;
            }
        }
    }
    static void SumCommand(List<double> numbers)
    {
        if (numbers.Count == 0)
        {
            Console.WriteLine("Список чисел пуст");
            return;
        }

        double sum = 0;

        foreach (var coin in numbers) 
            sum += coin;
        Console.WriteLine($"Сумма всех чисел: {sum}");
    }
    static void ExitCommand(ref bool isRunning)
    {
        isRunning = false;
        Console.WriteLine("Завершение работы программы...");
    }
    static void CheckNumberInput(string input, List<double> numbers)
    {
        if (double.TryParse(input, NumberStyles.Any, CultureInfo.CurrentCulture, out double number))
        {
            numbers.Add(number);
            Console.WriteLine($"Добавлено число: {number}");
        }
        else
        {
            Console.WriteLine($"Ошибка: введите число или команду ({CommandCalculateSum}/{CommandExit})");
        }
    }
}
