using System;

class Program
{
    static void Main()
    {
        DossierManager manager = new DossierManager();
        manager.Run();
    }
}

class DossierManager
{
    private string[] fullNames;
    private string[] positions;
    private int count;

    public DossierManager()
    {
        fullNames = new string[10];
        positions = new string[10];
        count = 0;
    }

    public void Run()
    {
        const string CommandAddDossier = "1";
        const string CommandPrintAllDossiers = "2";
        const string CommandRemoveDossier = "3";
        const string CommandSearchByLastName = "4";
        const string CommandExit = "5";

        bool isRunning = true;

        while (isRunning)
        {
            Console.WriteLine("\nМеню:");
            Console.WriteLine($"{CommandAddDossier}. Добавить досье");
            Console.WriteLine($"{CommandPrintAllDossiers}. Вывести все досье");
            Console.WriteLine($"{CommandRemoveDossier}. Удалить досье");
            Console.WriteLine($"{CommandSearchByLastName}. Поиск по фамилии");
            Console.WriteLine($"{CommandExit}. Выход");
            Console.Write("Выберите действие: ");

            string choice = Console.ReadLine();

            switch (choice)
            {
                case CommandAddDossier:
                    AddDossier();
                    break;
                case CommandPrintAllDossiers:
                    PrintAllDossiers();
                    break;
                case CommandRemoveDossier:
                    RemoveDossier();
                    break;
                case CommandSearchByLastName:
                    SearchByLastName();
                    break;
                case CommandExit:
                    isRunning = false;
                    break;
                default:
                    Console.WriteLine("Неверный ввод. Попробуйте снова.");
                    break;
            }
        }
    }

    private void AddDossier()
    {
        Console.Write("Введите ФИО сотрудника: ");
        string name = Console.ReadLine();

        Console.Write("Введите должность: ");
        string position = Console.ReadLine();

        if (count == fullNames.Length)
        {
            ResizeArrays(ref fullNames, fullNames.Length * 2);
            ResizeArrays(ref positions, positions.Length * 2);
        }

        fullNames[count] = name;
        positions[count] = position;
        count++;

        Console.WriteLine("Досье добавлено.");
    }

    private void ResizeArrays(ref string[] array, int newSize)
    {
        string[] newArray = new string[newSize];

        for (int i = 0; i < array.Length; i++)
        {
            newArray[i] = array[i];
        }

        array = newArray;
    }

    private void PrintAllDossiers()
    {
        if (count == 0)
        {
            Console.WriteLine("Нет досье для отображения.");
            return;
        }

        for (int i = 0; i < count; i++)
        {
            Console.WriteLine($"{i + 1}) {fullNames[i]} ——— {positions[i]}");
        }
    }

    private void RemoveDossier()
    {
        if (count == 0)
        {
            Console.WriteLine("Нет досье для удаления.");
            return;
        }

        Console.Write("Введите номер досье для удаления: ");

        if (int.TryParse(Console.ReadLine(), out int index) == false || index < 1 || index > count)
        {
            Console.WriteLine("Неверный номер досье.");
            return;
        }

        index--; 

        for (int i = index; i < count - 1; i++)
        {
            fullNames[i] = fullNames[i + 1];
            positions[i] = positions[i + 1];
        }

        count--;
        Console.WriteLine("Досье удалено.");
    }

    private void SearchByLastName()
    {
        if (count == 0)
        {
            Console.WriteLine("Нет досье для поиска.");
            return;
        }

        Console.Write("Введите фамилию для поиска: ");
        string lastName = Console.ReadLine();

        bool found = false;

        for (int i = 0; i < count; i++)
        {
            string[] nameParts = fullNames[i].Split(' ');

            if (nameParts.Length > 0 && nameParts[0].Equals(lastName, StringComparison.OrdinalIgnoreCase))
            {
                Console.WriteLine($"{i + 1}) {fullNames[i]} - {positions[i]}");
                found = true;
            }
        }

        if (found == false)
        {
            Console.WriteLine("Досье с такой фамилией не найдены.");
        }
    }
}
